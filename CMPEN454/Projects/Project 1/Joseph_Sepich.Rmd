---
title: "CMPEN 454 Project 1"
subtitle: "Joseph Sepich Feb 28"
output:
  pdf_document:
    toc: false
    toc_depth: 2
    number_sections: true
    keep_tex: false
---

```{r include=FALSE}
library(tidyverse)
```

# Theory Questions

## Problem 1

Show that if you use the line equations $\rho = xcos\theta+ysin\theta$, each image
point (x,y) results in a sinusoid in ($\rho,\theta$) Hough space. Relate the amplitude
and phase of the sinusoid to the point(x,y).

In Hough space the coordinates are $\rho$ and $\theta$. Say we have a simple sin
formula in x,y space. This is represented as $y = sin(x)$. Similarly $y = cos(x) + sin(x)$
is also a sinusoidal equation, which can be seen below.

```{r echo=FALSE}
x <- seq(0, 2 * 3.14159, 0.001)
y <- sin(x) + cos(x)

df <- data.frame(y = y, x = x)
df %>%
  ggplot(aes(x=x,y=y)) +
  geom_line()
```

Since in hough space the parameters are instead $\rho$ and $\theta$, this means
the same function in Hough space would be written as $\rho = cos(\theta) + sin(\theta)$.

Since we want to analyze the equation $\rho = xcos\theta+ysin\theta$, we already
know that this line equation is clearly a sinusoid in Hough space, but what do
the parameters x and y affect? X and y both affect the amplitude and phase of the
sinusoid. If X >> y then the phase lines up with cosine, but if y >> x then the
phase lines up with sine. When $x \approx y$ then the phase is a mixture of the two.
This can be seen with the following plots with $x = [0.05, 1, 5], y=[5, 1, 0.05]$:

```{r echo=FALSE}
theta <- seq(0, 2 * 3.14159, 0.001)
x <- c(0.05, 1, 5)
y <- c(5, 1, 0.05)
rho_1 <- y[1]*sin(theta) + x[1]*cos(theta)
rho_2 <- y[2]*sin(theta) + x[2]*cos(theta)
rho_3 <- y[3]*sin(theta) + x[3]*cos(theta)


df <- data.frame(theta = theta, rho = rho_1, label=rep("(0.05,5)", length(theta)))
df <- df %>%
  rbind(data.frame(theta = theta, rho = rho_2, label = rep("(1,1)", length(theta))))
df <- df %>%
  rbind(data.frame(theta = theta, rho = rho_3, label = rep("(5,0.05)", length(theta))))
df %>%
  ggplot(aes(x=theta,y=rho,color = label)) +
  geom_line()
```

## Problem 2

Why do we parameterize the line in terms of ($\rho, \theta$) instead of the slope
and intercept (m,c)? Express the slope and intercept in terms of ($\rho, \theta$).

One of the reasons we parameterize the line in terms of ($\rho, \theta$) instead
of the slope and intercept is to be able to identify vertical lines. They appear
as parallel when casting to parameter space: $b = -mx + y$, since x is constant.

Say we have the lines $x = 4$, and $y = 5$. On the first line we could have the points
(4,0), (4, 3), and (4, -2). The second line we could have (0,5), (-3, 5) and (2, 5).
Below we can compare the image space points to the lines in Hough Space.

```{r echo=FALSE}
m <- seq(-5, 5, 0.1)
b <- -1 * m *4 # (4,0)
df <- data.frame(m = m, b = b, label=rep("(4,0)", length(m)))
df <- df %>% rbind(data.frame(m = m, b = (-1 * m * 4 + 3), label=rep("(4,3)", length(m))))
df <- df %>% rbind(data.frame(m = m, b = (-1 * m * 4 - 2), label=rep("(4,-2)", length(m))))

df %>%
  ggplot(aes(x=m,y=b,color=label)) +
  geom_line()
```

So let's express the slope and intercept as ($\rho, \theta$). This lets use see
points as sinusoids instead of lines (so they will not be parallel), and it lets
us see lines as unique points. Take our line equation and phrase it as $y = mx + b$.

\[\rho = xcos\theta+ysin\theta\]
\[\rho - xcos\theta = ysin\theta\]
\[y = \frac{\rho - xcos\theta}{sin\theta}\]
\[y = \frac{-xcos\theta}{sin\theta} + \frac{\rho}{sin\theta}\]
\[y = -\cot\theta*x + \csc\theta * rho\]

We can now see in the slope intercept form that the slope would be $m = -\cot\theta$
and the intercept would be $\csc\theta * rho$.

## Problem 3

Assuming that the image points (x,y) are in an image of width W and height H, that
is $x \in [1, W], y\in [1,H]$, what is the maximum absolute value of $\rho$, and what
is the range for $\theta$?

## Problem 4

For point (10, 10) and points (20, 20) and (30, 30) in the image, plot the corresponding
sinusoid waves in Hough space, and visualize how their intersection point defines
the line. What is (m, c) for this line?





